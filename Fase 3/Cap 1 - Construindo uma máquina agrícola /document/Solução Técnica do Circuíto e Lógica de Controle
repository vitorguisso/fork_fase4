# FIAP - Faculdade de InformÃ¡tica e AdministraÃ§Ã£o Paulista

<p align="center">
<a href= "https://www.fiap.com.br/"><img src="assets/logo-fiap.png" alt="FIAP - Faculdade de InformÃ¡tica e AdmnistraÃ§Ã£o Paulista" border="0" width=40% height=40%></a>
</p>

<br>

# Bio Machine

## Machine FIAP

## ğŸ‘¨â€ğŸ“ Integrantes: 
- <a href="https://www.linkedin.com/company/inova-fusca">VinÃ­cius Pereira Santana 1</a>
- <a href="https://www.linkedin.com/company/inova-fusca">Vitor Augusto Prado Guisso 2</a>
- <a href="https://www.linkedin.com/company/inova-fusca">Ryan Carlos Sousa Alves da Cunha 3</a> 

## ğŸ‘©â€ğŸ« Professores:
### Tutor(a) 
- <a href="https://www.linkedin.com/company/inova-fusca">Lucas Gomes Moreira</a>
### Coordenador(a)
- <a href="https://www.linkedin.com/company/inova-fusca">Andre Godoi Chiovato</a>


## ğŸ“œ IntroduÃ§Ã£o

*O presente projeto tem como objetivo elaborar a primeira mÃ¡quina agrÃ­cula capaz de medir parÃ¢metros atravÃ©s da simulaÃ§Ã£o de sensores FÃ³sforo, PotÃ¡ssio, PH e umidade do solo. PorÃ©m nesse documento abordaremos aspectos das operaÃ§Ãµes CRUD e o relacionamento do MER realizados.*

## ğŸ“œ Objetivo

*O objetivo deste projeto Ã© simular um sistema de irrigaÃ§Ã£o e monitoramento por sensores que medem a umidade do solo, pH, presenÃ§a de fÃ³sforo e potÃ¡ssio. Com base nessas mediÃ§Ãµes, o sistema decide automaticamente se deve acionar a bomba de Ã¡gua. AlÃ©m disso, informa o usuÃ¡rio sobre a presenÃ§a ou ausÃªncia dos nutrientes fÃ³sforo e potÃ¡ssio, e se o solo estÃ¡ Ã¡cido, ideal ou alcalino.
AlÃ©m disso, os dados sÃ£o integrados a um banco de dados Oracle, permitindo o gerenciamento completo via Python.*


## ğŸ“œ CircuÃ­to no Wokwi

![Circuito Wokwi](workinspace/Fase 3/Cap 1 - Construindo uma mÃ¡quina agrÃ­cola)/assets/circuito limpo.PNG

Acesse o link de compartilhamento do projeto no [Wokwi](https://wokwi.com/projects/431425340498998273).

## ğŸ“œ Componentes do Wokwi

*Microcontrolador ESP32
Sensor DHT22: simula a umidade do solo
Sensor LDR: simula o pH do solo por variaÃ§Ã£o de luminosidade
BotÃ£o 1: simula a presenÃ§a/ausÃªncia de fÃ³sforo
BotÃ£o 2: simula a presenÃ§a/ausÃªncia de potÃ¡ssio
LED: simula a bomba de irrigaÃ§Ã£o (ligada/desligada)
*

## ğŸ“œ LÃ³gica de Funcionamento


*A umidade Ã© lida pelo DHT22. Caso o valor da umidade seja menor que 40%, entÃ£o a bomba de irrigaÃ§Ã£o (Led) Ã© acionada automaticamente atÃ© que a umidade volte a ser maior ou igual a 40%.
O sensor de PH Ã© simulado pelo LDH. O valor lido Ã© convertido para a escala de pH entre 0 e 14. Foi considerado um pH Ã¡cido valores abaixo de 5,5 e pH alcalino valores acima de 7,5. 
Os Sensores de fÃ³sforo e potÃ¡ssio foram representados por botÃµes. Caso o botÃ£o esteja pressionado entÃ£o o nutriente Ã© considerado presente. 
Vale ressaltar que para os dados de pH, presenÃ§a/ausÃªncia de fÃ³sforo e potÃ¡ssio, o programa apenas avisa ao usuÃ¡rio o que estÃ¡ ocorrendo e sugere aÃ§Ãµes a serem tomadas.
*

## ğŸ“œ CÃ³digo Wokwi C++

*
#include "DHT.h"

// DEFINIÃ‡ÃƒO DOS PINOS
#define DHTPIN 14 Â  Â  Â  Â  Â  Â // Pino do sensor DHT22 (umidade)
#define DHTTYPE DHT22 
#define LDRPIN 34 Â  Â  Â  Â  Â  // Pino do sensor LDR (simula pH)
#define FOSFORO_PIN 12 Â  Â  Â // BotÃ£o para fÃ³sforo
#define POTASSIO_PIN 13 Â  Â // BotÃ£o para potÃ¡ssio
#define LED_BOMBA 27 Â  Â  Â // LED representa a bomba de irrigaÃ§Ã£o

DHT dht(DHTPIN, DHTTYPE);

void setup() {
Â  Serial.begin(9600);
Â  dht.begin();

// Configura os modos dos pinos
Â  pinMode(LDRPIN, INPUT);
Â  pinMode(FOSFORO_PIN, INPUT_PULLUP);
Â  pinMode(POTASSIO_PIN, INPUT_PULLUP);
Â  pinMode(LED_BOMBA, OUTPUT);

Â  digitalWrite(LED_BOMBA, LOW);
}

void loop() {
Â  // Leitura da umidade
Â  float umidade = dht.readHumidity();

Â  // Leitura dos botÃµes: pressionado = presenÃ§a, solto = ausÃªncia
Â  bool fosforoPresente = digitalRead(FOSFORO_PIN) == LOW;
Â  bool potassioPresente = digitalRead(POTASSIO_PIN) == LOW;

Â  // Leitura do LDR para simular pH
Â  int ldrValor = analogRead(LDRPIN);
Â  float ph = map(ldrValor, 0, 4095, 0, 140) / 10.0;
Â  ph = constrain(ph, 0.0, 14.0);

Â  // LÃ³gica da bomba (somente umidade)
Â  bool bombaLigada = (umidade < 40.0);

Â  digitalWrite(LED_BOMBA, bombaLigada ? HIGH : LOW);

Â  // Exibir leituras no Serial
Â  Serial.print("Umidade: ");
Â  Serial.print(umidade);
Â  Serial.print(" % | pH: ");
Â  Serial.print(ph);
Â  Serial.print(" | FÃ³sforo: ");
Â  Serial.print(fosforoPresente ? "Presente" : "Ausente");
Â  Serial.print(" | PotÃ¡ssio: ");
Â  Serial.print(potassioPresente ? "Presente" : "Ausente");
Â  Serial.print(" | Bomba: ");
Â  Serial.println(bombaLigada ? "LIGADA" : "DESLIGADA");

Â  // AnÃ¡lise de necessidade dos insumos:
Â  if (!fosforoPresente) {
Â  Â  Serial.println("â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir FÃ³sforo no solo.");
Â  } else {
Â  Â  Serial.println("â†’ FÃ³sforo OK.");
Â  }

Â  if (!potassioPresente) {
Â  Â  Serial.println("â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir PotÃ¡ssio no solo.");
Â  } else {
Â  Â  Serial.println("â†’ PotÃ¡ssio OK.");
Â  }

Â  if (ph < 5.5) {
Â  Â  Serial.println("â†’ ATENÃ‡ÃƒO: pH Ã¡cido! NecessÃ¡rio corrigir.");
Â  } else if (ph > 7.5) {
Â  Â  Serial.println("â†’ ATENÃ‡ÃƒO: pH alcalino! NecessÃ¡rio corrigir.");
Â  } else {
Â  Â  Serial.println("â†’ pH dentro da faixa ideal.");
Â  }

Â  Serial.println("-----------------------------");

Â  delay(2000);
}
*

## ğŸ“œ Exemplo do painel do Wokwi com informaÃ§Ãµes passadas ao usuÃ¡rio

*
-----------------------------
Umidade: 50.50 % | pH: 6.40 | FÃ³sforo: Ausente | PotÃ¡ssio: Ausente | Bomba: DESLIGADA
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir FÃ³sforo no solo.
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir PotÃ¡ssio no solo.
â†’ pH dentro da faixa ideal.
-----------------------------
Umidade: 50.50 % | pH: 6.40 | FÃ³sforo: Presente | PotÃ¡ssio: Ausente | Bomba: DESLIGADA
â†’ FÃ³sforo OK.
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir PotÃ¡ssio no solo.
â†’ pH dentro da faixa ideal.
-----------------------------
Umidade: 50.50 % | pH: 6.40 | FÃ³sforo: Ausente | PotÃ¡ssio: Presente | Bomba: DESLIGADA
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir FÃ³sforo no solo.
â†’ PotÃ¡ssio OK.
â†’ pH dentro da faixa ideal.
-----------------------------
Umidade: 50.50 % | pH: 2.60 | FÃ³sforo: Ausente | PotÃ¡ssio: Ausente | Bomba: DESLIGADA
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir FÃ³sforo no solo.
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir PotÃ¡ssio no solo.
â†’ ATENÃ‡ÃƒO: pH Ã¡cido! NecessÃ¡rio corrigir.
-----------------------------
Umidade: 42.00 % | pH: 11.90 | FÃ³sforo: Ausente | PotÃ¡ssio: Ausente | Bomba: DESLIGADA
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir FÃ³sforo no solo.
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir PotÃ¡ssio no solo.
â†’ ATENÃ‡ÃƒO: pH alcalino! NecessÃ¡rio corrigir.
-----------------------------
Umidade: 27.00 % | pH: 11.90 | FÃ³sforo: Ausente | PotÃ¡ssio: Ausente | Bomba: LIGADA
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir FÃ³sforo no solo.
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir PotÃ¡ssio no solo.
â†’ ATENÃ‡ÃƒO: pH alcalino! NecessÃ¡rio corrigir.
-----------------------------
Umidade: 41.00 % | pH: 7.20 | FÃ³sforo: Presente | PotÃ¡ssio: Ausente | Bomba: DESLIGADA
â†’ FÃ³sforo OK.
â†’ ATENÃ‡ÃƒO: NecessÃ¡rio corrigir PotÃ¡ssio no solo.
â†’ pH dentro da faixa ideal.
*
## ğŸ“œ IntegraÃ§Ã£o em cÃ³digo python e Oracle

*
O cÃ³digo Python conecta-se ao banco de dados Oracle e permite:
    â€¢ InserÃ§Ã£o de novos dados com base nas simulaÃ§Ãµes do Wokwi
    â€¢ AtualizaÃ§Ã£o individual de campos (pH, umidade, fÃ³sforo, potÃ¡ssio)
    â€¢ ExclusÃ£o de registros
    â€¢ ExibiÃ§Ã£o completa do banco com formataÃ§Ã£o clara
    â€¢ A bomba Ã© calculada automaticamente com base na umidade inserida.
*

## ğŸ“œ SQL table Oracle

*
CREATE TABLE sistema_irrigacao (
  id                        NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  umidade           NUMBER(5,2),
  ph                      NUMBER(4,2),
  fosforo              VARCHAR2(10),
  potassio           VARCHAR2(10),
  bomba             VARCHAR2(10)
);
*
## ğŸ“œ VisualizaÃ§Ã£o dos dados armazenados na tabela Oracle apÃ³s algumas manipulaÃ§Ãµes via python:

![Dados](workinspace/Fase 3/Cap 1 - Construindo uma mÃ¡quina agrÃ­cola)/assets/dados.png

*Print do comando SELECT * FROM sistema_irrigacao no Oracle SQL Developer, exibindo os dados armazenados pela integraÃ§Ã£o com o Python.*

## ğŸ“œ VÃ­deos explicativos
Acesse o link do vÃ­deo explicativo do projeto pt1 [Wokwi](https://youtu.be/U5qKTlOQY6w).
Acesse o link do vÃ­deo explicativo do projeto pt2 [Wokwi](https://youtu.be/BLC7gruKot8).
Acesse o link do vÃ­deo explicativo do projeto pt3 [Wokwi](https://youtu.be/cwMhXKpyLPk).

## ğŸ“œ ConclusÃ£o
*
O projeto desenvolvido simulou com sucesso a aplicaÃ§Ã£o prÃ¡tica de sensores e automaÃ§Ã£o no contexto da irrigaÃ§Ã£o agrÃ­cola, utilizando a plataforma Wokwi para simulaÃ§Ã£o do circuito e o ESP32 como microcontrolador. A lÃ³gica implementada em C++ permitiu o monitoramento em tempo real da umidade do solo, valor de pH, e presenÃ§a de nutrientes essenciais como fÃ³sforo e potÃ¡ssio, alÃ©m do acionamento automÃ¡tico da bomba de irrigaÃ§Ã£o.
A segunda parte do projeto envolveu a integraÃ§Ã£o com Python e Oracle, onde os dados gerados foram armazenados, atualizados, consultados e manipulados de forma estruturada. Essa integraÃ§Ã£o possibilitou a simulaÃ§Ã£o de um sistema completo de gerenciamento agrÃ­cola inteligente, reunindo conceitos de eletrÃ´nica, programaÃ§Ã£o embarcada, bancos de dados e anÃ¡lise de dados.
*

## ğŸ”§ Como executar o cÃ³digo

*
- Python 3.x instalado
- Pacotes:
  - cx_Oracle
  - pandas
- Oracle Instant Client 64-bit (instalado e configurado no Path)
- Conta ativa Oracle FIAP (banco de dados remoto)*

## ğŸ”§ CONEXÃƒO COM O BANCO ORACLE
*
âš ï¸ Importante: Este projeto estÃ¡ configurado com os dados do aluno RM562317.
Se outro usuÃ¡rio for testar, Ã© necessÃ¡rio alterar as credenciais no cÃ³digo.

Substitua por seus dados:
username = "SEU_USUARIO"  # Ex: RM123456
password = "SUA_SENHA"
dsn = "oracle.fiap.com.br/orcl"
*


## ğŸ—ƒ HistÃ³rico de lanÃ§amentos

* 0.1.0 - 19/05/2025*

## ğŸ“‹ LicenÃ§a

<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://github.com/agodoi/template">MODELO GIT FIAP</a> por <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://fiap.com.br">Fiap</a> estÃ¡ licenciado sobre <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Attribution 4.0 International</a>.</p>


